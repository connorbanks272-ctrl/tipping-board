<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WinMore Tipping Board</title>
<style>
body {
  margin:0;
  background:#111;
  color:white;
  font-family:Arial, sans-serif;
  text-align:center;
}
h1 {
  margin:10px;
  font-size:2em;
  color:white;
}
canvas {
  background:#222;
  border:4px solid #e63946;
  border-radius:12px;
  display:block;
  margin:0 auto;
  touch-action: manipulation;
}
button {
  padding:10px 20px;
  margin:5px;
  font-size:16px;
  border:none;
  border-radius:8px;
  background:#e63946;
  color:white;
  cursor:pointer;
}
</style>
</head>
<body>

<img src="22d66e0a-16c4-478a-a62d-4ea0c3826b6a.png" style="width:200px;margin:10px auto;display:block;">
<h1>üéØ WINMORE TIPPING BOARD üéØ</h1>
<h3>Score: <span id="score">0</span></h3>
<p>Pick a side to drop your coin</p>
<button onclick="dropCoin('left')">‚¨ÖÔ∏è Left</button>
<button onclick="dropCoin('middle')">‚¨áÔ∏è Middle</button>
<button onclick="dropCoin('right')">‚û°Ô∏è Right</button>
<button onclick="resetGame()">Reset</button>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = 400;
canvas.height = 600;

let pegs = [];
let fallingCoin = null;
let score = 0;

// 10 prize sections
const sectionCount = 10;
const sectionWidth = canvas.width / sectionCount;
const sections = [];
for (let i = 0; i < sectionCount; i++) {
  sections.push({
    x: i * sectionWidth,
    width: sectionWidth,
    points: (i + 1) * 10, // points 10, 20, ... 100
    color: "#8ac926"      // uniform color
  });
}

// Setup staggered pegs
function setup() {
  pegs = [];
  for (let y = 100; y < 500; y += 35) {
    const isEvenRow = Math.floor((y - 100) / 35) % 2 === 0;
    for (let x = 25; x < 375; x += 35) {
      // Offset every other row
      const offsetX = isEvenRow ? 0 : 17.5; // half of the spacing for stagger
      pegs.push({x: x + offsetX, y});
    }
  }
  fallingCoin = null;
}

function drawPegs() {
  ctx.fillStyle = "#f1faee";
  pegs.forEach(p => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, 4, 0, Math.PI*2);
    ctx.fill();
  });
}

function drawFalling() {
  if (!fallingCoin) return;
  ctx.fillStyle = "#ffcb05";
  ctx.beginPath();
  ctx.arc(fallingCoin.x, fallingCoin.y, 10, 0, Math.PI*2);
  ctx.fill();
}

function drawSections() {
  sections.forEach(s => {
    ctx.fillStyle = s.color;
    ctx.fillRect(s.x, 550, s.width, 50);
    ctx.fillStyle = "white";
    ctx.font = "12px Arial";
    ctx.fillText(s.points, s.x + s.width/2 - 8, 580);
  });
}

function update() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  drawPegs();
  drawSections();
  drawFalling();

  if (fallingCoin) {
    fallingCoin.y += 2; // slower fall

    // bounce off pegs
    pegs.forEach(p => {
      const dx = fallingCoin.x - p.x;
      const dy = fallingCoin.y - p.y;
      const dist = Math.sqrt(dx*dx + dy*dy);
      if (dist < 10) {
        fallingCoin.x += (Math.random() < 0.5 ? -1 : 1) * Math.random() * 12;
        fallingCoin.y -= 1; // bounce up
      }
    });

    // check if coin reached bottom
    if (fallingCoin.y >= 550) {
      sections.forEach(s => {
        if (fallingCoin.x >= s.x && fallingCoin.x <= s.x + s.width) {
          score += s.points;
          alert(`You won ${s.points} points!`);
          document.getElementById("score").innerText = score;
        }
      });
      fallingCoin = null;
    }
  }

  requestAnimationFrame(update);
}

// drop coin
function dropCoin(side) {
  if (fallingCoin) return;

  let x;
  if (side === 'left') x = 50 + Math.random()*20;
  else if (side === 'middle') x = 200 + Math.random()*20 - 10;
  else if (side === 'right') x = 350 + Math.random()*-20;

  fallingCoin = {x: x, y: 50};
}

function resetGame() {
  score = 0;
  document.getElementById("score").innerText = score;
  setup();
}

setup();
update();
</script>

</body>
</html>
